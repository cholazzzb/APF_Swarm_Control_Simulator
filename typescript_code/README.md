The python code but rewrittern in Typescript and concerning design pattern when writing
